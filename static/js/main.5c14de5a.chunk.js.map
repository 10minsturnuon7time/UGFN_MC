{"version":3,"sources":["index.js","SCORM_API_wrapper.js"],"names":["Instruction","props","display","className","Item","Printquestion","questionnow","jsondata","length","questiontext","Printimg","src","alt","questionnumber","Printans","onClick","variant","color","block","disabled","answer","i","ans","Printfeedback","history","feedback","Printreview","Controlbutton","value","Calculation","x","score","fraction","scormupdated","setscore","setscormupdate","Problem","renderimg","state","image","img","renderans","answered","anshandle","renderfeedback","renderreview","zawarudo","setState","usedtime","renderbutton","buttonname","review","nextbutton","rendertimer","ansnumber","slice","now","settime","Seconds","printuserinfo","scormupdate","Array","fill","pipwerks","data","set","this","console","log","setInterval","React","Component","MC","connection","initialize","terminate","body","ReactDOM","render","document","getElementById","root","factory","define","isActive","version","handleCompletionStatus","handleExitMode","API","handle","isFound","completionStatus","exitStatus","debug","SCORM","isAvailable","find","win","findAttempts","trace","UTILS","scorm","API_1484_11","parent","traceMsgPrefix","get","window","top","opener","getHandle","success","makeBoolean","StringToBoolean","errorCode","LMSInitialize","Initialize","getCode","status","save","getInfo","LMSFinish","Terminate","parameter","LMSGetValue","GetValue","String","LMSSetValue","SetValue","LMSCommit","Commit","action","cmi","code","parseInt","LMSGetLastError","GetLastError","result","LMSGetErrorString","toString","GetErrorString","getDiagnosticInfo","LMSGetDiagnostic","GetDiagnostic","init","quit","test","msg"],"mappings":"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","file":"static/js/main.5c14de5a.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Card from \"react-bootstrap/Card\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport jsondata from \"./questionbank.json\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\n\nimport Timer from \"react-compound-timer\";\nimport * as pipwerks from \"./SCORM_API_wrapper\";\n\nfunction Instruction(props) {\n  if (props.display === 0) {\n    return (\n      <div className=\"mx-auto\">\n        <br />\n        Please read the following instructions carefully before you start:\n        <br />\n        <br />\n        <strong> Instruction</strong>\n        <br />\n        <br />\n        <ListGroup>\n          <ListGroup.Item>\n            Please do not click \"go back\" in your browser.\n          </ListGroup.Item>\n          <ListGroup.Item>\n            Please do not close this page until you have completed the exercise.\n          </ListGroup.Item>\n\n          <ListGroup.Item>\n            You cannot modify your answer after clicking \"submit\" button.\n          </ListGroup.Item>\n          <ListGroup.Item>\n            The author may have helpful comments for each question. Be sure to\n            check for this feedback.\n          </ListGroup.Item>\n        </ListGroup>\n        <br />\n        <br />\n        Good luck!\n        <br />\n        <br />\n        Press Start button to start your quiz.\n        <br />\n        <br />\n      </div>\n    );\n  } else return \"\";\n}\n\nfunction Timers(props) {\n  return (\n    <Timer>\n      <Timer.Seconds />\n    </Timer>\n  );\n}\n\nfunction Printquestion(props) {\n  if (props.questionnow > 0 && props.questionnow <= jsondata.length) {\n    return <div>{jsondata[props.questionnow - 1].questiontext}</div>;\n  } else return \"\";\n}\n\nfunction Printimg(props) {\n  return (\n    <div>\n      <img src={props.src} alt={jsondata.questionnumber} />\n    </div>\n  );\n}\n\nfunction Printans(props) {\n  return (\n    <Button\n      onClick={() => props.onClick()}\n      variant={props.color}\n      block\n      disabled={props.disabled}\n    >\n      {jsondata[props.questionnow - 1].answer[props.i].ans}\n    </Button>\n  );\n}\n\nfunction Printfeedback(props) {\n  return (\n    <div>\n      {\n        jsondata[props.questionnow - 1].answer[\n          props.history[props.questionnow - 1]\n        ].feedback\n      }\n    </div>\n  );\n}\n\nfunction Printreview(props) {\n  return (\n    <div>\n      <h4>Well Done, you have finished the quiz!</h4> <br /> Go review the\n      questions\n    </div>\n  );\n}\n\nfunction Controlbutton(props) {\n  return (\n    <Button\n      className=\"float-right\"\n      onClick={() => props.onClick()}\n      disabled={props.disabled}\n    >\n      {props.value}\n    </Button>\n  );\n}\n\nfunction Calculation(props) {\n  let score = 0;\n  let x;\n  let i = 0;\n\n  for (x of props.history) {\n    if (jsondata[i].answer[x].fraction === \"1\") score += 1 / jsondata.length;\n    i++;\n  }\n\n  if (props.score === -1 && props.scormupdated === false) {\n    props.setscore(score * 100);\n    props.setscormupdate();\n  }\n\n  return (\n    <div>\n      <br /> Your score is {score * 100}\n    </div>\n  );\n}\n\nclass Problem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      questionnow: 0,\n      answered: false,\n      history: Array(jsondata.length).fill(null),\n      review: false,\n      usedtime: -1,\n      zawarudo: true,\n      score: -1,\n      scormupdated: false,\n    };\n  }\n\n  renderimg = () => {\n    if (\n      this.state.questionnow > 0 &&\n      this.state.questionnow <= jsondata.length &&\n      jsondata[this.state.questionnow - 1].image !== \"\"\n    ) {\n      const img = jsondata[this.state.questionnow - 1].image;\n\n      return <Printimg questionnow={this.state.questionnow} src={img} />;\n    }\n  };\n\n  renderans = (i) => {\n    let color = \"light\";\n    if (\n      this.state.questionnow > 0 &&\n      this.state.questionnow <= jsondata.length\n    ) {\n      if (\n        jsondata[this.state.questionnow - 1].answer[i].fraction === \"1\" &&\n        this.state.answered === true\n      )\n        color = \"success\";\n      if (\n        this.state.history[this.state.questionnow - 1] === i &&\n        jsondata[this.state.questionnow - 1].answer[i].fraction === \"0\" &&\n        this.state.answered === true\n      )\n        color = \"danger\";\n\n      return (\n        <Printans\n          color={color}\n          questionnow={this.state.questionnow}\n          answered={this.state.answered}\n          onClick={() => this.anshandle(i)}\n          i={i}\n          disabled={this.state.answered ? \"1\" : \"\"}\n        />\n      );\n    } else return;\n  };\n\n  renderfeedback = () => {\n    if (\n      this.state.answered === true &&\n      this.state.questionnow > 0 &&\n      this.state.questionnow <= jsondata.length\n    )\n      return (\n        <Printfeedback\n          questionnow={this.state.questionnow}\n          history={this.state.history}\n        />\n      );\n  };\n\n  renderreview = () => {\n    if (this.state.questionnow === jsondata.length + 1) {\n      if (this.state.zawarudo === false)\n        this.setState({\n          zawarudo: true,\n        });\n\n      return (\n        <div>\n          <Printreview />\n          <Calculation\n            history={this.state.history}\n            usedtime={this.state.usedtime}\n            score={this.state.score}\n            setscore={this.setscore}\n            scormupdated={this.state.scormupdated}\n            setscormupdate={this.setscormupdate}\n          />\n        </div>\n      );\n    }\n  };\n\n  renderbutton = () => {\n    let buttonname = \"\";\n    let disabled = \"\";\n    if (this.state.questionnow === 0) {\n      buttonname = \"Start\";\n      disabled = \"\";\n    } else {\n      buttonname = \"Next\";\n      if (this.state.answered === true || this.state.review === true)\n        disabled = \"\";\n      else disabled = \"1\";\n    }\n    return (\n      <Controlbutton\n        value={buttonname}\n        onClick={() => this.nextbutton()}\n        disabled={disabled}\n      />\n    );\n  };\n\n  rendertimer = () => {\n    if (this.state.zawarudo === false)\n      return (\n        <div>\n          You have used {this.state.usedtime} seconds <br />\n          <br />\n        </div>\n      );\n  };\n\n  anshandle = (ansnumber) => {\n    const history = this.state.history.slice();\n\n    if (\n      this.state.questionnow > 0 &&\n      this.state.questionnow <= jsondata.length\n    ) {\n      history[this.state.questionnow - 1] = ansnumber;\n      this.setState({\n        history: history,\n        answered: true,\n      });\n    }\n  };\n\n  nextbutton = () => {\n    let now = this.state.questionnow + 1;\n\n    if (this.state.usedtime === -1 && this.state.zawarudo === true) {\n      this.setState({\n        usedtime: 0,\n        zawarudo: false,\n      });\n    }\n\n    if (now > jsondata.length)\n      this.setState({\n        review: true,\n      });\n    if (now > jsondata.length + 1) now = 1;\n\n    if (this.state.review === true) {\n      this.setState({\n        questionnow: now,\n        answered: true,\n      });\n    } else {\n      this.setState({\n        questionnow: now,\n        answered: false,\n      });\n    }\n  };\n\n  settime = () => {\n    if (this.state.zawarudo === false)\n      this.setState({\n        usedtime: Timers(),\n      });\n  };\n\n  setscormupdate = () => {\n    this.setState({\n      scormupdated: !this.state.scormupdated,\n    });\n  };\n\n  setscore = (score) => {\n    this.setState({\n      score: score,\n    });\n  };\n\n  scormupdate() {\n    pipwerks.SCORM.data.set(\"cmi.core.lesson_status\", \"completed\");\n    pipwerks.SCORM.data.set(\"cmi.core.score.raw\", this.state.score);\n\n    pipwerks.SCORM.data.set(\"cmi.objectives.0.id\", \"label\");\n    pipwerks.SCORM.data.set(\"cmi.objectives.0.status\", \"completed\");\n    pipwerks.SCORM.data.set(\"cmi.interactions.0.objectives.0.id\", \"testing\");\n    pipwerks.SCORM.data.set(\"cmi.objectives.0.completion_status\", \"completed\");\n\n    console.log(this.state.history.length);\n    for (let i = 0; i < this.state.history.length; i++) {\n      pipwerks.SCORM.data.set(\"cmi.interactions.\" + i + \".id\", i+1);\n      pipwerks.SCORM.data.set(\n        \"cmi.interactions.\" + i + \".student_response\",\n        this.state.history[i]+1\n      );\n\n      if (jsondata[i].answer[this.state.history[i]].fraction === \"1\")\n        pipwerks.SCORM.data.set(\"cmi.interactions.\" + i + \".result\", \"correct\");\n      else\n        pipwerks.SCORM.data.set(\"cmi.interactions.\" + i + \".result\", \"wrong\");\n\n        pipwerks.SCORM.data.set(\"cmi.interactions.\" + i + \".objectives.0.id\", \"label\");\n\n    }\n\n    this.setscormupdate();\n  }\n\n  printuserinfo = () => {\n    if (this.state.scormupdated === true) {\n      this.scormupdate();\n    }\n\n    return <div></div>;\n  };\n\n  render() {\n    setInterval(this.settime, 1000);\n\n    return (\n      <div>\n        {this.rendertimer()}\n        {this.printuserinfo()}\n\n        <Instruction display={this.state.questionnow} />\n        <Printquestion questionnow={this.state.questionnow} />\n        {this.renderimg()}\n        {this.renderans(0)}\n        {this.renderans(1)}\n        {this.renderans(2)}\n        {this.renderans(3)}\n        {this.renderfeedback()}\n        {this.renderreview()}\n        {this.renderbutton()}\n      </div>\n    );\n  }\n}\n\nclass MC extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    pipwerks.SCORM.connection.initialize();\n  }\n\n  componentWillUnmount() {\n    pipwerks.SCORM.connection.terminate();\n  }\n\n  render() {\n    return (\n      <Container>\n        <h1>Self-learning exercise</h1>\n        <Card body>\n          <Problem />\n        </Card>\n      </Container>\n    );\n  }\n}\n\nReactDOM.render(<MC />, document.getElementById(\"root\"));\n","/*global define, module */\r\n\r\n/* ===========================================================\r\n\r\npipwerks SCORM Wrapper for JavaScript\r\nv1.1.20180906\r\n\r\nCreated by Philip Hutchison, January 2008-2018\r\nhttps://github.com/pipwerks/scorm-api-wrapper\r\n\r\nCopyright (c) Philip Hutchison\r\nMIT-style license: http://pipwerks.mit-license.org/\r\n\r\nThis wrapper works with both SCORM 1.2 and SCORM 2004.\r\n\r\nInspired by APIWrapper.js, created by the ADL and\r\nConcurrent Technologies Corporation, distributed by\r\nthe ADL (http://www.adlnet.gov/scorm).\r\n\r\nSCORM.API.find() and SCORM.API.get() functions based\r\non ADL code, modified by Mike Rustici\r\n(http://www.scorm.com/resources/apifinder/SCORMAPIFinder.htm),\r\nfurther modified by Philip Hutchison\r\n\r\n=============================================================== */\r\n\r\n(function(root, factory) {\r\n\r\n    \"use strict\";\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define([], factory);\r\n    } else if (typeof module === 'object' && module.exports) {\r\n        // Node. Does not work with strict CommonJS, but\r\n        // only CommonJS-like environments that support module.exports,\r\n        // like Node.\r\n        module.exports = factory();\r\n    } else {\r\n        // Browser globals (root is window)\r\n        root.pipwerks = factory();\r\n    }\r\n}(this, function() {\r\n\r\n    \"use strict\";\r\n\r\n    var pipwerks = {}; //pipwerks 'namespace' helps ensure no conflicts with possible other \"SCORM\" variables\r\n    pipwerks.UTILS = {}; //For holding UTILS functions\r\n    pipwerks.debug = { isActive: true }; //Enable (true) or disable (false) for debug mode\r\n\r\n    pipwerks.SCORM = { //Define the SCORM object\r\n        version: null, //Store SCORM version.\r\n        handleCompletionStatus: true, //Whether or not the wrapper should automatically handle the initial completion status\r\n        handleExitMode: true, //Whether or not the wrapper should automatically handle the exit mode\r\n        API: {\r\n            handle: null,\r\n            isFound: false\r\n        }, //Create API child object\r\n        connection: { isActive: false }, //Create connection child object\r\n        data: {\r\n            completionStatus: null,\r\n            exitStatus: null\r\n        }, //Create data child object\r\n        debug: {} //Create debug child object\r\n    };\r\n\r\n    /* --------------------------------------------------------------------------------\r\n       pipwerks.SCORM.isAvailable\r\n       A simple function to allow Flash ExternalInterface to confirm\r\n       presence of JS wrapper before attempting any LMS communication.\r\n\r\n       Parameters: none\r\n       Returns:    Boolean (true)\r\n    ----------------------------------------------------------------------------------- */\r\n\r\n    pipwerks.SCORM.isAvailable = function() {\r\n        return true;\r\n    };\r\n\r\n\r\n    // ------------------------------------------------------------------------- //\r\n    // --- SCORM.API functions ------------------------------------------------- //\r\n    // ------------------------------------------------------------------------- //\r\n\r\n    /* -------------------------------------------------------------------------\r\n       pipwerks.SCORM.API.find(window)\r\n       Looks for an object named API in parent and opener windows\r\n\r\n       Parameters: window (the browser window object).\r\n       Returns:    Object if API is found, null if no API found\r\n    ---------------------------------------------------------------------------- */\r\n\r\n    pipwerks.SCORM.API.find = function(win) {\r\n\r\n        var API = null,\r\n            findAttempts = 0,\r\n            findAttemptLimit = 500,\r\n            traceMsgPrefix = \"SCORM.API.find\",\r\n            trace = pipwerks.UTILS.trace,\r\n            scorm = pipwerks.SCORM;\r\n\r\n        while ((!win.API && !win.API_1484_11) &&\r\n            (win.parent) &&\r\n            (win.parent != win) &&\r\n            (findAttempts <= findAttemptLimit)) {\r\n\r\n            findAttempts++;\r\n            win = win.parent;\r\n\r\n        }\r\n\r\n        //If SCORM version is specified by user, look for specific API\r\n        if (scorm.version) {\r\n\r\n            switch (scorm.version) {\r\n\r\n                case \"2004\":\r\n\r\n                    if (win.API_1484_11) {\r\n\r\n                        API = win.API_1484_11;\r\n\r\n                    } else {\r\n\r\n                        trace(traceMsgPrefix + \": SCORM version 2004 was specified by user, but API_1484_11 cannot be found.\");\r\n\r\n                    }\r\n\r\n                    break;\r\n\r\n                case \"1.2\":\r\n\r\n                    if (win.API) {\r\n\r\n                        API = win.API;\r\n\r\n                    } else {\r\n\r\n                        trace(traceMsgPrefix + \": SCORM version 1.2 was specified by user, but API cannot be found.\");\r\n\r\n                    }\r\n\r\n                    break;\r\n\r\n            }\r\n\r\n        } else { //If SCORM version not specified by user, look for APIs\r\n\r\n            if (win.API_1484_11) { //SCORM 2004-specific API.\r\n\r\n                scorm.version = \"2004\"; //Set version\r\n                API = win.API_1484_11;\r\n\r\n            } else if (win.API) { //SCORM 1.2-specific API\r\n\r\n                scorm.version = \"1.2\"; //Set version\r\n                API = win.API;\r\n\r\n            }\r\n\r\n        }\r\n\r\n        if (API) {\r\n\r\n            trace(traceMsgPrefix + \": API found. Version: \" + scorm.version);\r\n            trace(\"API: \" + API);\r\n\r\n        } else {\r\n\r\n            trace(traceMsgPrefix + \": Error finding API. \\nFind attempts: \" + findAttempts + \". \\nFind attempt limit: \" + findAttemptLimit);\r\n\r\n        }\r\n\r\n        return API;\r\n\r\n    };\r\n\r\n\r\n    /* -------------------------------------------------------------------------\r\n       pipwerks.SCORM.API.get()\r\n       Looks for an object named API, first in the current window's frame\r\n       hierarchy and then, if necessary, in the current window's opener window\r\n       hierarchy (if there is an opener window).\r\n\r\n       Parameters:  None.\r\n       Returns:     Object if API found, null if no API found\r\n    ---------------------------------------------------------------------------- */\r\n\r\n    pipwerks.SCORM.API.get = function() {\r\n\r\n        var API = null,\r\n            win = window,\r\n            scorm = pipwerks.SCORM,\r\n            find = scorm.API.find,\r\n            trace = pipwerks.UTILS.trace;\r\n\r\n        API = find(win);\r\n\r\n        if (!API && win.parent && win.parent != win) {\r\n            API = find(win.parent);\r\n        }\r\n\r\n        if (!API && win.top && win.top.opener) {\r\n            API = find(win.top.opener);\r\n        }\r\n\r\n        //Special handling for Plateau\r\n        //Thanks to Joseph Venditti for the patch\r\n        if (!API && win.top && win.top.opener && win.top.opener.document) {\r\n            API = find(win.top.opener.document);\r\n        }\r\n\r\n        if (API) {\r\n            scorm.API.isFound = true;\r\n        } else {\r\n            trace(\"API.get failed: Can't find the API!\");\r\n        }\r\n\r\n        return API;\r\n\r\n    };\r\n\r\n\r\n    /* -------------------------------------------------------------------------\r\n       pipwerks.SCORM.API.getHandle()\r\n       Returns the handle to API object if it was previously set\r\n\r\n       Parameters:  None.\r\n       Returns:     Object (the pipwerks.SCORM.API.handle variable).\r\n    ---------------------------------------------------------------------------- */\r\n\r\n    pipwerks.SCORM.API.getHandle = function() {\r\n\r\n        var API = pipwerks.SCORM.API;\r\n\r\n        if (!API.handle && !API.isFound) {\r\n\r\n            API.handle = API.get();\r\n\r\n        }\r\n\r\n        return API.handle;\r\n\r\n    };\r\n\r\n\r\n    // ------------------------------------------------------------------------- //\r\n    // --- pipwerks.SCORM.connection functions --------------------------------- //\r\n    // ------------------------------------------------------------------------- //\r\n\r\n\r\n    /* -------------------------------------------------------------------------\r\n       pipwerks.SCORM.connection.initialize()\r\n       Tells the LMS to initiate the communication session.\r\n\r\n       Parameters:  None\r\n       Returns:     Boolean\r\n    ---------------------------------------------------------------------------- */\r\n\r\n    pipwerks.SCORM.connection.initialize = function() {\r\n\r\n        var success = false,\r\n            scorm = pipwerks.SCORM,\r\n            completionStatus = scorm.data.completionStatus,\r\n            trace = pipwerks.UTILS.trace,\r\n            makeBoolean = pipwerks.UTILS.StringToBoolean,\r\n            debug = scorm.debug,\r\n            traceMsgPrefix = \"SCORM.connection.initialize \";\r\n\r\n        trace(\"connection.initialize called.\");\r\n\r\n        if (!scorm.connection.isActive) {\r\n\r\n            var API = scorm.API.getHandle(),\r\n                errorCode = 0;\r\n\r\n            if (API) {\r\n\r\n                switch (scorm.version) {\r\n                    case \"1.2\":\r\n                        success = makeBoolean(API.LMSInitialize(\"\"));\r\n                        break;\r\n                    case \"2004\":\r\n                        success = makeBoolean(API.Initialize(\"\"));\r\n                        break;\r\n                }\r\n\r\n                if (success) {\r\n\r\n                    //Double-check that connection is active and working before returning 'true' boolean\r\n                    errorCode = debug.getCode();\r\n\r\n                    if (errorCode !== null && errorCode === 0) {\r\n\r\n                        scorm.connection.isActive = true;\r\n\r\n                        if (scorm.handleCompletionStatus) {\r\n\r\n                            //Automatically set new launches to incomplete\r\n                            completionStatus = scorm.status(\"get\");\r\n\r\n                            if (completionStatus) {\r\n\r\n                                switch (completionStatus) {\r\n\r\n                                    //Both SCORM 1.2 and 2004\r\n                                    case \"not attempted\":\r\n                                        scorm.status(\"set\", \"incomplete\");\r\n                                        break;\r\n\r\n                                        //SCORM 2004 only\r\n                                    case \"unknown\":\r\n                                        scorm.status(\"set\", \"incomplete\");\r\n                                        break;\r\n\r\n                                        //Additional options, presented here in case you'd like to use them\r\n                                        //case \"completed\"  : break;\r\n                                        //case \"incomplete\" : break;\r\n                                        //case \"passed\"     : break;    //SCORM 1.2 only\r\n                                        //case \"failed\"     : break;    //SCORM 1.2 only\r\n                                        //case \"browsed\"    : break;    //SCORM 1.2 only\r\n\r\n                                }\r\n\r\n                                //Commit changes\r\n                                scorm.save();\r\n\r\n                            }\r\n\r\n                        }\r\n\r\n                    } else {\r\n\r\n                        success = false;\r\n                        trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \" \\nError info: \" + debug.getInfo(errorCode));\r\n\r\n                    }\r\n\r\n                } else {\r\n\r\n                    errorCode = debug.getCode();\r\n\r\n                    if (errorCode !== null && errorCode !== 0) {\r\n\r\n                        trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \" \\nError info: \" + debug.getInfo(errorCode));\r\n\r\n                    } else {\r\n\r\n                        trace(traceMsgPrefix + \"failed: No response from server.\");\r\n\r\n                    }\r\n                }\r\n\r\n            } else {\r\n\r\n                trace(traceMsgPrefix + \"failed: API is null.\");\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            trace(traceMsgPrefix + \"aborted: Connection already active.\");\r\n\r\n        }\r\n\r\n        return success;\r\n\r\n    };\r\n\r\n\r\n    /* -------------------------------------------------------------------------\r\n       pipwerks.SCORM.connection.terminate()\r\n       Tells the LMS to terminate the communication session\r\n\r\n       Parameters:  None\r\n       Returns:     Boolean\r\n    ---------------------------------------------------------------------------- */\r\n\r\n    pipwerks.SCORM.connection.terminate = function() {\r\n\r\n        var success = false,\r\n            scorm = pipwerks.SCORM,\r\n            exitStatus = scorm.data.exitStatus,\r\n            completionStatus = scorm.data.completionStatus,\r\n            trace = pipwerks.UTILS.trace,\r\n            makeBoolean = pipwerks.UTILS.StringToBoolean,\r\n            debug = scorm.debug,\r\n            traceMsgPrefix = \"SCORM.connection.terminate \";\r\n\r\n\r\n        if (scorm.connection.isActive) {\r\n\r\n            var API = scorm.API.getHandle(),\r\n                errorCode = 0;\r\n\r\n            if (API) {\r\n\r\n                if (scorm.handleExitMode && !exitStatus) {\r\n\r\n                    if (completionStatus !== \"completed\" && completionStatus !== \"passed\") {\r\n\r\n                        switch (scorm.version) {\r\n                            case \"1.2\":\r\n                                success = scorm.set(\"cmi.core.exit\", \"suspend\");\r\n                                break;\r\n                            case \"2004\":\r\n                                success = scorm.set(\"cmi.exit\", \"suspend\");\r\n                                break;\r\n                        }\r\n\r\n                    } else {\r\n\r\n                        switch (scorm.version) {\r\n                            case \"1.2\":\r\n                                success = scorm.set(\"cmi.core.exit\", \"logout\");\r\n                                break;\r\n                            case \"2004\":\r\n                                success = scorm.set(\"cmi.exit\", \"normal\");\r\n                                break;\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n\r\n                //Ensure we persist the data for 1.2 - not required for 2004 where an implicit commit is applied during the Terminate\r\n                success = (scorm.version === \"1.2\") ? scorm.save() : true;\r\n\r\n                if (success) {\r\n\r\n                    switch (scorm.version) {\r\n                        case \"1.2\":\r\n                            success = makeBoolean(API.LMSFinish(\"\"));\r\n                            break;\r\n                        case \"2004\":\r\n                            success = makeBoolean(API.Terminate(\"\"));\r\n                            break;\r\n                    }\r\n\r\n                    if (success) {\r\n\r\n                        scorm.connection.isActive = false;\r\n\r\n                    } else {\r\n\r\n                        errorCode = debug.getCode();\r\n                        trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \" \\nError info: \" + debug.getInfo(errorCode));\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            } else {\r\n\r\n                trace(traceMsgPrefix + \"failed: API is null.\");\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            trace(traceMsgPrefix + \"aborted: Connection already terminated.\");\r\n\r\n        }\r\n\r\n        return success;\r\n\r\n    };\r\n\r\n\r\n    // ------------------------------------------------------------------------- //\r\n    // --- pipwerks.SCORM.data functions --------------------------------------- //\r\n    // ------------------------------------------------------------------------- //\r\n\r\n\r\n    /* -------------------------------------------------------------------------\r\n       pipwerks.SCORM.data.get(parameter)\r\n       Requests information from the LMS.\r\n\r\n       Parameter: parameter (string, name of the SCORM data model element)\r\n       Returns:   string (the value of the specified data model element)\r\n    ---------------------------------------------------------------------------- */\r\n\r\n    pipwerks.SCORM.data.get = function(parameter) {\r\n\r\n        var value = null,\r\n            scorm = pipwerks.SCORM,\r\n            trace = pipwerks.UTILS.trace,\r\n            debug = scorm.debug,\r\n            traceMsgPrefix = \"SCORM.data.get('\" + parameter + \"') \";\r\n\r\n        if (scorm.connection.isActive) {\r\n\r\n            var API = scorm.API.getHandle(),\r\n                errorCode = 0;\r\n\r\n            if (API) {\r\n\r\n                switch (scorm.version) {\r\n                    case \"1.2\":\r\n                        value = API.LMSGetValue(parameter);\r\n                        break;\r\n                    case \"2004\":\r\n                        value = API.GetValue(parameter);\r\n                        break;\r\n                }\r\n\r\n                errorCode = debug.getCode();\r\n\r\n                //GetValue returns an empty string on errors\r\n                //If value is an empty string, check errorCode to make sure there are no errors\r\n                if (value !== \"\" || errorCode === 0) {\r\n\r\n                    //GetValue is successful.\r\n                    //If parameter is lesson_status/completion_status or exit status, let's\r\n                    //grab the value and cache it so we can check it during connection.terminate()\r\n                    switch (parameter) {\r\n\r\n                        case \"cmi.core.lesson_status\":\r\n                        case \"cmi.completion_status\":\r\n                            scorm.data.completionStatus = value;\r\n                            break;\r\n\r\n                        case \"cmi.core.exit\":\r\n                        case \"cmi.exit\":\r\n                            scorm.data.exitStatus = value;\r\n                            break;\r\n\r\n                    }\r\n\r\n                } else {\r\n\r\n                    trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \"\\nError info: \" + debug.getInfo(errorCode));\r\n\r\n                }\r\n\r\n            } else {\r\n\r\n                trace(traceMsgPrefix + \"failed: API is null.\");\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            trace(traceMsgPrefix + \"failed: API connection is inactive.\");\r\n\r\n        }\r\n\r\n        trace(traceMsgPrefix + \" value: \" + value);\r\n\r\n        return String(value);\r\n\r\n    };\r\n\r\n\r\n    /* -------------------------------------------------------------------------\r\n       pipwerks.SCORM.data.set()\r\n       Tells the LMS to assign the value to the named data model element.\r\n       Also stores the SCO's completion status in a variable named\r\n       pipwerks.SCORM.data.completionStatus. This variable is checked whenever\r\n       pipwerks.SCORM.connection.terminate() is invoked.\r\n\r\n       Parameters: parameter (string). The data model element\r\n                   value (string). The value for the data model element\r\n       Returns:    Boolean\r\n    ---------------------------------------------------------------------------- */\r\n\r\n    pipwerks.SCORM.data.set = function(parameter, value) {\r\n\r\n        var success = false,\r\n            scorm = pipwerks.SCORM,\r\n            trace = pipwerks.UTILS.trace,\r\n            makeBoolean = pipwerks.UTILS.StringToBoolean,\r\n            debug = scorm.debug,\r\n            traceMsgPrefix = \"SCORM.data.set('\" + parameter + \"') \";\r\n\r\n\r\n        if (scorm.connection.isActive) {\r\n\r\n            var API = scorm.API.getHandle(),\r\n                errorCode = 0;\r\n\r\n            if (API) {\r\n\r\n                switch (scorm.version) {\r\n                    case \"1.2\":\r\n                        success = makeBoolean(API.LMSSetValue(parameter, value));\r\n                        break;\r\n                    case \"2004\":\r\n                        success = makeBoolean(API.SetValue(parameter, value));\r\n                        break;\r\n                }\r\n\r\n                if (success) {\r\n\r\n                    if (parameter === \"cmi.core.lesson_status\" || parameter === \"cmi.completion_status\") {\r\n\r\n                        scorm.data.completionStatus = value;\r\n\r\n                    }\r\n\r\n                } else {\r\n\r\n                    errorCode = debug.getCode();\r\n\r\n                    trace(traceMsgPrefix + \"failed. \\nError code: \" + errorCode + \". \\nError info: \" + debug.getInfo(errorCode));\r\n\r\n                }\r\n\r\n            } else {\r\n\r\n                trace(traceMsgPrefix + \"failed: API is null.\");\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            trace(traceMsgPrefix + \"failed: API connection is inactive.\");\r\n\r\n        }\r\n\r\n        trace(traceMsgPrefix + \" value: \" + value);\r\n\r\n        return success;\r\n\r\n    };\r\n\r\n\r\n    /* -------------------------------------------------------------------------\r\n       pipwerks.SCORM.data.save()\r\n       Instructs the LMS to persist all data to this point in the session\r\n\r\n       Parameters: None\r\n       Returns:    Boolean\r\n    ---------------------------------------------------------------------------- */\r\n\r\n    pipwerks.SCORM.data.save = function() {\r\n\r\n        var success = false,\r\n            scorm = pipwerks.SCORM,\r\n            trace = pipwerks.UTILS.trace,\r\n            makeBoolean = pipwerks.UTILS.StringToBoolean,\r\n            traceMsgPrefix = \"SCORM.data.save failed\";\r\n\r\n\r\n        if (scorm.connection.isActive) {\r\n\r\n            var API = scorm.API.getHandle();\r\n\r\n            if (API) {\r\n\r\n                switch (scorm.version) {\r\n                    case \"1.2\":\r\n                        success = makeBoolean(API.LMSCommit(\"\"));\r\n                        break;\r\n                    case \"2004\":\r\n                        success = makeBoolean(API.Commit(\"\"));\r\n                        break;\r\n                }\r\n\r\n            } else {\r\n\r\n                trace(traceMsgPrefix + \": API is null.\");\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            trace(traceMsgPrefix + \": API connection is inactive.\");\r\n\r\n        }\r\n\r\n        return success;\r\n\r\n    };\r\n\r\n\r\n    pipwerks.SCORM.status = function(action, status) {\r\n\r\n        var success = false,\r\n            scorm = pipwerks.SCORM,\r\n            trace = pipwerks.UTILS.trace,\r\n            traceMsgPrefix = \"SCORM.getStatus failed\",\r\n            cmi = \"\";\r\n\r\n        if (action !== null) {\r\n\r\n            switch (scorm.version) {\r\n                case \"1.2\":\r\n                    cmi = \"cmi.core.lesson_status\";\r\n                    break;\r\n                case \"2004\":\r\n                    cmi = \"cmi.completion_status\";\r\n                    break;\r\n            }\r\n\r\n            switch (action) {\r\n\r\n                case \"get\":\r\n                    success = scorm.data.get(cmi);\r\n                    break;\r\n\r\n                case \"set\":\r\n                    if (status !== null) {\r\n\r\n                        success = scorm.data.set(cmi, status);\r\n\r\n                    } else {\r\n\r\n                        success = false;\r\n                        trace(traceMsgPrefix + \": status was not specified.\");\r\n\r\n                    }\r\n\r\n                    break;\r\n\r\n                default:\r\n                    success = false;\r\n                    trace(traceMsgPrefix + \": no valid action was specified.\");\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            trace(traceMsgPrefix + \": action was not specified.\");\r\n\r\n        }\r\n\r\n        return success;\r\n\r\n    };\r\n\r\n\r\n    // ------------------------------------------------------------------------- //\r\n    // --- pipwerks.SCORM.debug functions -------------------------------------- //\r\n    // ------------------------------------------------------------------------- //\r\n\r\n\r\n    /* -------------------------------------------------------------------------\r\n       pipwerks.SCORM.debug.getCode\r\n       Requests the error code for the current error state from the LMS\r\n\r\n       Parameters: None\r\n       Returns:    Integer (the last error code).\r\n    ---------------------------------------------------------------------------- */\r\n\r\n    pipwerks.SCORM.debug.getCode = function() {\r\n\r\n        var scorm = pipwerks.SCORM,\r\n            API = scorm.API.getHandle(),\r\n            trace = pipwerks.UTILS.trace,\r\n            code = 0;\r\n\r\n        if (API) {\r\n\r\n            switch (scorm.version) {\r\n                case \"1.2\":\r\n                    code = parseInt(API.LMSGetLastError(), 10);\r\n                    break;\r\n                case \"2004\":\r\n                    code = parseInt(API.GetLastError(), 10);\r\n                    break;\r\n            }\r\n\r\n        } else {\r\n\r\n            trace(\"SCORM.debug.getCode failed: API is null.\");\r\n\r\n        }\r\n\r\n        return code;\r\n\r\n    };\r\n\r\n\r\n    /* -------------------------------------------------------------------------\r\n       pipwerks.SCORM.debug.getInfo()\r\n       \"Used by a SCO to request the textual description for the error code\r\n       specified by the value of [errorCode].\"\r\n\r\n       Parameters: errorCode (integer).\r\n       Returns:    String.\r\n    ----------------------------------------------------------------------------- */\r\n\r\n    pipwerks.SCORM.debug.getInfo = function(errorCode) {\r\n\r\n        var scorm = pipwerks.SCORM,\r\n            API = scorm.API.getHandle(),\r\n            trace = pipwerks.UTILS.trace,\r\n            result = \"\";\r\n\r\n\r\n        if (API) {\r\n\r\n            switch (scorm.version) {\r\n                case \"1.2\":\r\n                    result = API.LMSGetErrorString(errorCode.toString());\r\n                    break;\r\n                case \"2004\":\r\n                    result = API.GetErrorString(errorCode.toString());\r\n                    break;\r\n            }\r\n\r\n        } else {\r\n\r\n            trace(\"SCORM.debug.getInfo failed: API is null.\");\r\n\r\n        }\r\n\r\n        return String(result);\r\n\r\n    };\r\n\r\n\r\n    /* -------------------------------------------------------------------------\r\n       pipwerks.SCORM.debug.getDiagnosticInfo\r\n       \"Exists for LMS specific use. It allows the LMS to define additional\r\n       diagnostic information through the API Instance.\"\r\n\r\n       Parameters: errorCode (integer).\r\n       Returns:    String (Additional diagnostic information about the given error code).\r\n    ---------------------------------------------------------------------------- */\r\n\r\n    pipwerks.SCORM.debug.getDiagnosticInfo = function(errorCode) {\r\n\r\n        var scorm = pipwerks.SCORM,\r\n            API = scorm.API.getHandle(),\r\n            trace = pipwerks.UTILS.trace,\r\n            result = \"\";\r\n\r\n        if (API) {\r\n\r\n            switch (scorm.version) {\r\n                case \"1.2\":\r\n                    result = API.LMSGetDiagnostic(errorCode);\r\n                    break;\r\n                case \"2004\":\r\n                    result = API.GetDiagnostic(errorCode);\r\n                    break;\r\n            }\r\n\r\n        } else {\r\n\r\n            trace(\"SCORM.debug.getDiagnosticInfo failed: API is null.\");\r\n\r\n        }\r\n\r\n        return String(result);\r\n\r\n    };\r\n\r\n\r\n    // ------------------------------------------------------------------------- //\r\n    // --- Shortcuts! ---------------------------------------------------------- //\r\n    // ------------------------------------------------------------------------- //\r\n\r\n    // Because nobody likes typing verbose code.\r\n\r\n    pipwerks.SCORM.init = pipwerks.SCORM.connection.initialize;\r\n    pipwerks.SCORM.get = pipwerks.SCORM.data.get;\r\n    pipwerks.SCORM.set = pipwerks.SCORM.data.set;\r\n    pipwerks.SCORM.save = pipwerks.SCORM.data.save;\r\n    pipwerks.SCORM.quit = pipwerks.SCORM.connection.terminate;\r\n\r\n\r\n\r\n    // ------------------------------------------------------------------------- //\r\n    // --- pipwerks.UTILS functions -------------------------------------------- //\r\n    // ------------------------------------------------------------------------- //\r\n\r\n\r\n    /* -------------------------------------------------------------------------\r\n       pipwerks.UTILS.StringToBoolean()\r\n       Converts 'boolean strings' into actual valid booleans.\r\n\r\n       (Most values returned from the API are the strings \"true\" and \"false\".)\r\n\r\n       Parameters: String\r\n       Returns:    Boolean\r\n    ---------------------------------------------------------------------------- */\r\n\r\n    pipwerks.UTILS.StringToBoolean = function(value) {\r\n        var t = typeof value;\r\n        switch (t) {\r\n            //typeof new String(\"true\") === \"object\", so handle objects as string via fall-through.\r\n            //See https://github.com/pipwerks/scorm-api-wrapper/issues/3\r\n            case \"object\":\r\n            case \"string\":\r\n                return (/(true|1)/i).test(value);\r\n            case \"number\":\r\n                return !!value;\r\n            case \"boolean\":\r\n                return value;\r\n            case \"undefined\":\r\n                return null;\r\n            default:\r\n                return false;\r\n        }\r\n    };\r\n\r\n\r\n    /* -------------------------------------------------------------------------\r\n       pipwerks.UTILS.trace()\r\n       Displays error messages when in debug mode.\r\n\r\n       Parameters: msg (string)\r\n       Return:     None\r\n    ---------------------------------------------------------------------------- */\r\n\r\n    pipwerks.UTILS.trace = function(msg) {\r\n\r\n        if (pipwerks.debug.isActive) {\r\n\r\n            if (window.console && window.console.log) {\r\n                window.console.log(msg);\r\n            } else {\r\n                //alert(msg);\r\n            }\r\n\r\n        }\r\n    };\r\n\r\n    return pipwerks;\r\n\r\n}));\r\n"],"sourceRoot":""}